#ifndef COLORPALETTE_H
#define COLORPALETTE_H

#include <QWidget>
#include <QColor>

#include <vector>

#include "colorID.h"

class ColorPalette
{

public:

    /***********************************************************
    * Constructor                                              *
    ***********************************************************/

    ColorPalette();
    ColorPalette(QVector<QColor> _initialColors);

    /***********************************************************
    * Accessors                                                *
    ***********************************************************/

    // +-------------------------------------------------------+
    // | Accessor: Color                                       |
    // +-------------------------------------------------------+

    const QColor getColor(const int _colorID);

    // +-------------------------------------------------------+
    // | Accessor: Color object                                |
    // +-------------------------------------------------------+

    const ColorID findColor(const int _colorID);

    /***********************************************************
    * Other functions                                          *
    ***********************************************************/

    // +-------------------------------------------------------+
    // | Define the default color                              |
    // +-------------------------------------------------------+

    void defineDefaultColor(const int _red, const int _green, const int _blue);
    void defineDefaultColor(const QColor _color);

    // +-------------------------------------------------------+
    // | Add a color                                           |
    // +-------------------------------------------------------+

    void addColor(const int _red, const int _green, const int _blue);
    void addColor(const QColor _color);

    // +-------------------------------------------------------+
    // | Remove a color                                        |
    // +-------------------------------------------------------+

    const bool removeColor(const int _colorIndex);

    // +-------------------------------------------------------+
    // | Remove all colors                                     |
    // +-------------------------------------------------------+

    const bool removeAllColor();

    // +-------------------------------------------------------+
    // | Replace a color by another                            |
    // +-------------------------------------------------------+

    const bool replaceColor(const int _colorID, QColor _newColor);

    // +-------------------------------------------------------+
    // | Use a new color                                       |
    // +-------------------------------------------------------+

    const int useColor();

    // +-------------------------------------------------------+
    // | Stop using a color                                    |
    // +-------------------------------------------------------+

    void freeColor(const int _colorID);

    // +-------------------------------------------------------+
    // | Start using the palette                               |
    // +-------------------------------------------------------+

    void start();

    // +-------------------------------------------------------+
    // | Stop using the palette                                |
    // +-------------------------------------------------------+

    void stop();

private:

    /***********************************************************
    * Private fields                                           *
    ***********************************************************/

    // +-------------------------------------------------------+
    // | Number of colors                                      |
    // +-------------------------------------------------------+

    int numberColors;

    // +-------------------------------------------------------+
    // | Size of the stack                                     |
    // +-------------------------------------------------------+

    int stackSize;

    // +-------------------------------------------------------+
    // | List of colors                                        |
    // +-------------------------------------------------------+

    std::vector<ColorID> listColors;
    QColor defaultColor;

    // +-------------------------------------------------------+
    // | Stack of available colors                             |
    // +-------------------------------------------------------+

    std::vector<ColorID> stackColors;

    // +-------------------------------------------------------+
    // | Palette usage                                         |
    // +-------------------------------------------------------+

    bool inUse;

    // +-------------------------------------------------------+
    // | Does palette already exists when object is created    |
    // +-------------------------------------------------------+

    bool staticPalette;

};

#endif // COLORPALETTE_H
